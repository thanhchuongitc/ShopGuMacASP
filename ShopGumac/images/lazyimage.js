!function(t,i){function o(t){var i={top:a.scrollTop(),left:a.scrollLeft()};i.right=i.left+a.width(),i.bottom=i.top+a.height();var o=t[0].getBoundingClientRect();return o.right=o.left+t.outerWidth(),o.bottom=o.top+t.outerHeight(),!(i.right<o.left||i.left>o.right||i.bottom<o.top||i.top>o.bottom)&&t.is(":visible")}var a=t(i);t.LazyImage=function(i){this.$img=t(i),this.loading=!1,this.originalSrc=this.$img.data("src"),this.fadeIn=this.$img.data("fade-in"),this.init()},t.LazyImage.prototype={init:function(){var i=this,o=this.fadeIn;i.$fakeImg=t("<img />").on("load",function(){i.$img.removeAttr("style").css("opacity",0).attr("src",t(this).attr("src")),o?i.$img.animate({opacity:1}):i.$img.css({opacity:1}),i.$img.addClass("lazy-loaded")}).on("load error",function(t){i.loading=!1,i.$img.trigger("lazyLoaded",[i,t.type])})},loadImage:function(){this.$fakeImg.attr("src",this.originalSrc)},destroy:function(){t(this).data("plugin_lazyImage",void 0)}},t.fn.lazyImage=function(){function i(){t.each(n,function(){o(this.$img)&&!this.loading&&(this.loading=!0,this.loadImage())}),n.length<=0&&a.off("load scroll resize",i)}var n=this.filter("img").map(function(){var i=new t.LazyImage(this);return t(this).data("plugin_lazyImage",i),i});return t(this).on("lazyLoaded",function(t,i){n=n.filter(function(){return this.originalSrc!=i.originalSrc})}),a.on("load scroll resize",i),this}}(jQuery,window);